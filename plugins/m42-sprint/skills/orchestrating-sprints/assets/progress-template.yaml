# PROGRESS.yaml - Compiled Sprint Progress
# Generated by: node compiler/dist/index.js <sprint-dir>

sprint-id: YYYY-MM-DD_sprint-name
status: not-started

# Compiled phase hierarchy
phases:
  # Simple phase
  - id: prepare
    status: pending
    prompt: "Sprint preparation tasks..."

  # For-each phase (expanded from steps)
  - id: development
    status: pending
    steps:
      - id: step-1
        prompt: "Original step prompt..."
        status: pending
        phases:
          - id: step-1-planning
            status: pending
            prompt: "Planning phase prompt..."
          - id: step-1-implement
            status: pending
            prompt: "Implementation phase prompt..."

  # Simple phase with quality gate
  - id: qa
    status: pending
    prompt: "Quality assurance tasks..."
    gate:
      script: "npm test"
      on-fail-prompt: "Fix failing tests."
      max-retries: 3
      timeout: 60
    # gate-tracking populated at runtime:
    # gate-tracking:
    #   attempts: 0
    #   status: pending
    #   last-output: null
    #   last-exit-code: null

  # Breakpoint phase (pauses for human review)
  - id: review-checkpoint
    status: pending
    prompt: "Summarize changes for review."
    break: true  # Sprint pauses after this phase

# Current execution pointer
current:
  phase: 0
  step: null
  sub-phase: null

# Statistics
stats:
  started-at: null
  completed-at: null
  total-phases: 4
  completed-phases: 0
